# **Дисковая подсистема**

## **Homework 2**

- Добавить в Vagrantfile еще дисков.
- Собрать R0/R5/R10 на выбор.
- Прописать собранный рейд в конфигурационный файл, чтобы рейд собирался при загрузке.
- Сломать/починить raid.
- Создать GPT раздел и 5 партиций.
- Vagrantfile, который сразу собирает систему с подключенным рейдом.

***Был взят Vagrantfile из личного кабинета [ссылка](https://github.com/erlong15/otus-linux)***

## Vagrantfile, который сразу собирает систему с подключенным рейдом
При запуске vagrant создает 6 дополнительных дисков по 250 Мб в домашней директории в каталоге VirtualBox VMs.
Далее запускается скрипт **scripts/create_raid.sh**

### Скрипт create_raid.sh
Данный скрипт:
1. Обновляет систему и устанавливает mdadm;
2. Создаёт из 6-ти дисков по 256mb raid массив 10 уровня;
3. Записывает конфигурацию raid массива в файл mdadm.conf;
4. Создаёт таблицу разделов gpt на raid массиве md0;
5. Создает на md0 пять одинаковых разделов md0p1-5;
6. Создаёт на разделах файловую систему ext4;
7. Создаёт директории /raid/part1-5 и монтирует туда разделы md0p1-5;
8. Добавляет записи в fstab для того, чтобы md0p1-5 монтировались автоматически при загрузке.

Vagrantfile, который сразу собирает систему с подключенным рейдом приложен
